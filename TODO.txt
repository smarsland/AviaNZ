
# TODO for AviaNZ

(1) Minor bugs and extensions

    SM: Tidy code, ensure comments, etc.

    NP: Make the oscillogram and spectrogram line up (basically, just sort out y-axis labels)

    SM: Enable removal of fill colour for spectrogram drag boxes

    NP: Make play sounds play the denoised version after denoising

    SM: Undo for segmentation
    
    ??: Spectrogram drawing after changes (e.g. denoising) seems to have a bug -> question: is it about the contrast and brightness?
    
    SM: Save the amount of time the user makes the window show back into the config file

    SM: Add in the 'who the user is' annotation
    SM: Get the time from the file name (if standard) and use it to put day or night birds first

    NP: Read mp3 files

    SM: Make the arrows (on top-right) move on to next file if double clicked (and at start/end?)

    NP: Add a change directory option
# Don't want to change what's drawn there (currently selected file and its spectro), but effects when opening a new file


    SM (?): Make the boxes below the overview be clickable to get to that section
    NP: And stop the lines going too far to the right

    SM: Get the manual and cheat sheet included in the program

    NP: Make it possible to change parameters (look into pyqtgraph ParameterTree)

    ??: What to do with stereo sound? How about consistent sample rates?

    The updating of the colour of the overview seg has some colour weirdness -- gets darker. Some sort of overlapping? Not a major problem.

	NP: Add play button to check segment, pictue alone is not enough to confirm. Make the pictures (check segment 1) small.

	NP: Stop loading the file when choose to cancel the progress bar.

	Can we reproduce? File list dock becomes frozen - one was experiencing this. Had to restart the program.
 
	Control marking the same segments again and again - multiple clicks on Find matches with the same pattern.
	
	Udate the status bar when auto saving the annotation? Users want to know/confirm.

	
(2) Memory management
    NP: It's a pain, but needs thinking about and then doing
    Could just split the file into shorter pieces? 
    Split files into 5 minute segments or whatever or look into paging

(3) Denoising, Wavelets and Segmentation
    Make denoising work
        Is there something wrong?
        How long should a denoise piece be?
	(1) Compare with matlab for long files
	(2) Compare with making wavelet trees on shorter pieces
	(3) Denoise the segments separately
    
    NP: Stop the segmentation being based on 1s
    NP: Fully integrate wavelet seg into program
    NP: We actually want Kiwi (M) and Kiwi (F), and need to get all the ruru calls
    NP: Want to have some form of machine learning
		(1) decision tree
		(2) MLP
		(3) SVM
		(4) boosting
    SM: And need to think about the 95% confidence thing a lot more
    SM: Add in the Check Segments 2 bit for this, and actually process the results!

    SM: Make the segmentations work fully
        Get the minimum time of a segment parameter sorted
        Work out how to combine the methods, particularly, spot overlaps in segments and combine them
        Work out parameters and how to set them
        Remove cross-correlation? Or just improve?

    Both: Think about nice ways to train a new wavelet filter
		And get the whole workflow sorted for it

    Use intensity of colour to encode certainty?

(4) Features
    Use the wavelets
    Finish the Raven features
    Add MFCC (nearly done)
    And whatever else seems interesting

    More on fundamental frequency
        smoothing?
        harvest or bana (yaapt was awful)
    Shape metrics

(5) Learning
    Standard methods
        MLP
        Decision tree
        Boosting
        SVM
    LSTM or GRU

    HMM to string syllables together

(6) Other
    Think more about the spectrogram inversion
        If it works --> Stu's bats
        Denoise the spectrogram fully (median filter, smoothing, consider grab-cut)

    Any necessary database or metadata things?

    Bats do keep on coming up...

    Generative noise model